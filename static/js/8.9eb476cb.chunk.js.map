{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","StyledButton","Button","Component","observer","HistoryStore","useStores","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","src","attributes","url","alt","filename","target","href","id","tip","History","List"],"mappings":"8NAOMA,EAAMC,IAAOC,IAAV,0MAOHC,EAAeF,YAAOG,IAAPH,CAAH,oDAyDHI,EArDGC,aAAU,WAC1B,IAAOC,EAAgBC,cAAhBD,aAeP,OATAE,qBAAU,WAGR,OAFAC,QAAQC,IAAI,4BAEL,WACLD,QAAQC,IAAI,gBACZJ,EAAaK,WAEf,IAGA,8BACE,cAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SAlBW,WACfR,EAAaS,QAkBTC,SAAWV,EAAaW,WAAaX,EAAaU,QAClDE,WAAW,EALb,SAOE,cAAC,IAAD,CACEC,WAAcb,EAAac,KAC3BC,WACE,SAAAC,GAAI,OACF,eAAC,IAAKC,KAAN,WACE,8BACE,cAACxB,EAAD,CAAKyB,IAAKF,EAAKG,WAAWC,IAAID,WAAWC,IAAKC,IAAI,OAEpD,8BACE,6BAAKL,EAAKG,WAAWG,aAEvB,cAAC1B,EAAD,UACE,mBAAG2B,OAAO,SAASC,KAAMR,EAAKG,WAAWC,IAAID,WAAWC,IAAxD,sDARYJ,EAAKS,KAJ3B,SAiBGzB,EAAaW,WAAaX,EAAaU,SACtC,8BACE,cAAC,IAAD,CAAMgB,IAAI,kCClDTC,UATf,WACI,OACI,qCACI,0DACA,cAACC,EAAD","file":"static/js/8.9eb476cb.chunk.js","sourcesContent":["import React,{useEffect} from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {useStores} from '../stores';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport {List, Spin, Button} from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nconst Img = styled.img`\r\n  width: 100px;\r\n  height: 120px;\r\n  object-fit: contain;  //对图片进行剪切，保留原始比例\r\n  border: 1px solid #eee;\r\n`\r\n\r\nconst StyledButton = styled(Button)`\r\n  border-radius: 12px;\r\n`\r\n\r\nconst Component = observer (() => {\r\n  const {HistoryStore} = useStores();\r\n\r\n  const loadMore = () => {\r\n    HistoryStore.find();\r\n  }\r\n\r\n  useEffect(()=> {\r\n    console.log('进入组件')\r\n\r\n    return () => {\r\n      console.log('卸载');\r\n      HistoryStore.reset();\r\n    }\r\n  },[])\r\n\r\n  return(\r\n    <div>\r\n      <InfiniteScroll\r\n        initialLoad={true}\r\n        pageStart={0}\r\n        loadMore={loadMore}\r\n        hasMore ={!HistoryStore.isLoading && HistoryStore.hasMore}\r\n        useWindow={true}\r\n      >\r\n        <List\r\n          dataSource = {HistoryStore.list}\r\n          renderItem = {\r\n            item =>\r\n              <List.Item key={item.id}>\r\n                <div>\r\n                  <Img src={item.attributes.url.attributes.url} alt=\"\"/>\r\n                </div>\r\n                <div>\r\n                  <h5>{item.attributes.filename}</h5>\r\n                </div>\r\n                <StyledButton>\r\n                  <a target=\"_blank\" href={item.attributes.url.attributes.url}>点击查看原图</a>\r\n                </StyledButton>\r\n              </List.Item>\r\n          }\r\n        >\r\n          {HistoryStore.isLoading && HistoryStore.hasMore && (\r\n            <div>\r\n              <Spin tip=\"加载中\"/>\r\n            </div>\r\n          )}\r\n        </List>\r\n      </InfiniteScroll>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Component;","import React from 'react';\r\nimport List from '../components/List';\r\n\r\nfunction History(){\r\n    return (\r\n        <>\r\n            <h1>上传历史</h1>\r\n            <List/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default History;"],"sourceRoot":""}