(this["webpackJsonpreact-epic-1"]=this["webpackJsonpreact-epic-1"]||[]).push([[9],{261:function(e,t,r){"use strict";r.r(t);var n,c,i,s,a,l,j=r(0),d=r(80),b=r(77),h=r(251),o=r(33),u=r(19),g=r(257),p=r(117),O=r(96),x=r(169),f=r(263),m=r(34),v=r(173),w=r.n(v),F=r(5),S=g.a.Dragger,U=m.a.div(n||(n=Object(o.a)(["\n  margin-top: 30px;\n  border:1px dashed #ccc;\n  padding: 20px;\n"]))),k=(m.a.a(c||(c=Object(o.a)(["\n  color: rgb(24,144,255);\n"]))),m.a.h1(i||(i=Object(o.a)(["\n  margin: 20px 0;\n  text-align: center;\n"])))),y=m.a.img(s||(s=Object(o.a)(["\n  max-width: 250px;\n"]))),$=Object(m.a)(p.a)(a||(a=Object(o.a)(["\n  border-radius: 12px;\n  margin-right: 6px;\n  padding-left: 6px;\n  padding-right: 6px;\n"]))),N=Object(d.a)((function(){var e=Object(b.a)(),t=e.ImageStore,r=e.UserStore,n=(Object(j.useRef)(),Object(j.useRef)(),Object(u.d)((function(){return{width:null,setWidth:function(e){n.width=e},get widthStr(){return n.width?"/w/".concat(n.width):""},height:null,setHeight:function(e){n.height=e},get heightStr(){return n.height?"/h/".concat(n.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+n.widthStr+n.heightStr}}}))),c={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===r.currentUser?(O.b.warning("\u8bf7\u5148\u767b\u5f55\uff01"),!1):(window.file=e,/(svg$)|(png$)|(jpg$)|(jpeg$)|(git$)/gi.test(e.type)?e.size>1048576?(O.b.error("\u56fe\u7247\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 1M"),!1):(t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(O.b.error("\u53ea\u80fd\u4e0a\u4f20 png/svg/jpg/git \u683c\u5f0f\u7684\u56fe\u7247\uff01"),!1))}};return Object(F.jsxs)("div",{children:[Object(F.jsx)(x.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUploading,children:Object(F.jsxs)(S,Object(h.a)(Object(h.a)({},c),{},{children:[Object(F.jsx)("p",{className:"ant-upload-drag-icon",children:Object(F.jsx)(f.a,{})}),Object(F.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u56fe\u7247\u5230\u6b64\u5904\u8fdb\u884c\u4e0a\u4f20"}),Object(F.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301 .png/.gif/.jpg/.svg \u683c\u5f0f\u7684\u56fe\u7247\uff0c\u56fe\u7247\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc71M"})]}))}),t.serverFile?Object(F.jsxs)(U,{children:[Object(F.jsx)(k,{children:"\u9601\u4e0b\u6700\u8fd1\u4e00\u6b21\u4e0a\u4f20\u7684\u56fe\u7247"}),Object(F.jsxs)("dl",{children:[Object(F.jsx)("dt",{children:Object(F.jsx)("h3",{children:Object(F.jsx)("strong",{children:"\u7ebf\u4e0a\u5730\u5740"})})}),Object(F.jsxs)("dd",{children:[Object(F.jsx)($,{type:"primary",children:Object(F.jsx)("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url,children:"\u67e5\u770b\u539f\u56fe"})}),Object(F.jsx)($,{type:"primary",onClick:function(){return e=t.serverFile.attributes.url.attributes.url,w()(e),void O.b.info("\u94fe\u63a5\u590d\u5236\u6210\u529f");var e},children:"\u590d\u5236\u94fe\u63a5"})]}),Object(F.jsx)("dt",{children:Object(F.jsx)("h3",{children:Object(F.jsx)("strong",{children:"\u6587\u4ef6\u540d"})})}),Object(F.jsx)("dd",{children:t.filename}),Object(F.jsx)("dt",{children:Object(F.jsx)("h3",{children:Object(F.jsx)("strong",{children:"\u56fe\u7247\u9884\u89c8"})})}),Object(F.jsx)("dd",{children:Object(F.jsx)(y,{src:t.serverFile.attributes.url.attributes.url,alt:""})})]})]}):null]})})),z=m.a.div(l||(l=Object(o.a)(["\n  font-size: 16px;\n  background: skyblue;\n  padding: 10px;\n  margin: 30px 0;\n  color: #fff;\n  border-radius: 4px;\n  text-align: center;\n"]))),J=Object(d.a)((function(e){var t=e.children,r=Object(b.a)().UserStore;return Object(F.jsx)(F.Fragment,{children:r.currentUser?null:Object(F.jsx)(z,{children:t})})})),M=Object(d.a)((function(){Object(b.a)().UserStore;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(J,{children:"\u6e29\u99a8\u63d0\u793a\uff1a\u9601\u4e0b\u8bf7\u5148\u767b\u5f55\u518d\u64cd\u4f5c\u54e6\uff01"}),Object(F.jsx)(N,{})]})}));t.default=M}}]);
//# sourceMappingURL=9.eb231386.chunk.js.map